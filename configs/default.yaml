# Default configuration for experiments
# Override these values in experiment-specific configs

# =============================================================================
# Model Configuration
# =============================================================================
model:
  name: "lms_vit"
  img_size: 224
  patch_size: 16
  embed_dim: 384
  depth: 12
  num_heads: 6
  mlp_ratio: 4.0
  dropout: 0.1
  num_classes: 7  # HAM10000 classes

# =============================================================================
# Data Configuration
# =============================================================================
data:
  dataset: "ham10000"  # ham10000, isic2018, isic2019, isic2020
  data_dir: "./data"
  img_size: 224
  batch_size: 32
  num_workers: 4
  pin_memory: true
  
  # Data augmentation
  augmentation:
    horizontal_flip: true
    vertical_flip: true
    rotation: 20
    color_jitter: true
  
  # Train/val/test split
  split:
    train: 0.7
    val: 0.15
    test: 0.15

# =============================================================================
# Training Configuration
# =============================================================================
training:
  epochs: 100
  optimizer: "adamw"
  learning_rate: 0.0001
  weight_decay: 0.01
  scheduler: "cosine"
  warmup_epochs: 5
  gradient_clip: 1.0
  mixed_precision: true
  
  # Early stopping
  early_stopping:
    enabled: true
    patience: 15
    min_delta: 0.001

# =============================================================================
# Federated Learning Configuration
# =============================================================================
federated:
  enabled: false
  num_clients: 10
  rounds: 100
  epochs_per_round: 5
  fraction_fit: 1.0
  min_fit_clients: 2
  
  # Data partitioning
  partition:
    strategy: "dirichlet"  # iid, dirichlet, pathological
    alpha: 0.5  # Dirichlet concentration (lower = more heterogeneous)
  
  # Aggregation strategy
  strategy: "fedavg"  # fedavg, fedprox, fednova, scaffold
  
  # FedProx specific
  fedprox:
    mu: 0.01

# =============================================================================
# Logging & Checkpointing
# =============================================================================
logging:
  log_dir: "./logs"
  save_dir: "./checkpoints"
  log_interval: 10
  save_interval: 5
  tensorboard: true
  wandb: false
  project_name: "federated-skin-cancer"

# =============================================================================
# Hardware Configuration
# =============================================================================
hardware:
  device: "cuda"  # cuda, cpu
  seed: 42  # Random seed for reproducibility
  seed: 42
  deterministic: true
